<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: Jornada da An√°lise de Dados em 6 Aulas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #E6F7FF; /* Light blue from Brilliant Blues palette */
        }
        .gradient-text {
            background: linear-gradient(to right, #007BFF, #003366); /* Brilliant Blues */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #A9D9F7; /* Lighter blue border */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 0 0 4px rgba(0, 123, 255, 0.2); /* Blue shadow on hover */
        }
        .flow-arrow::after {
            content: '‚Üí';
            font-size: 2rem;
            color: #007BFF; /* Primary Blue */
            margin: 0 1rem;
        }
        .flow-item:last-child .flow-arrow::after {
            content: '';
        }
        @media (max-width: 1023px) {
            .flow-arrow::after {
                content: '‚Üì';
                margin: 1rem 0;
                display: block;
            }
        }
    </style>
</head>
<body class="text-[#003366]">
    <!-- Paleta de Cores Usada: Brilliant Blues Palette com acentos em Dourado (#FFD700) -->

    <header class="text-center p-8 md:p-12 bg-white shadow-md">
        <div class="flex flex-col items-center justify-center mb-6">
            <h2 class="text-2xl md:text-3xl font-bold text-[#003366]">Col√©gio Santa Maria</h2>
            <p class="text-md md:text-lg text-[#007BFF]">3¬™ S√©rie EM | Matem√°tica | Prof. Raphael Miranda</p>
        </div>
        <h1 class="text-4xl md:text-6xl font-black gradient-text">Jornada da An√°lise de Dados</h1>
        <p class="mt-4 text-lg md:text-xl text-[#007BFF]">Um Projeto de Estat√≠stica em 6 Aulas: Do Planejamento √† Conclus√£o</p>
        <div class="mt-6 p-3 bg-[#A9D9F7] rounded-lg inline-block shadow-sm">
            <a href="https://docs.google.com/document/d/1rbOW_HQiQlDTBzyhxrYhuCbAAM9kaMYvukdT3JY1EYI/edit?usp=sharing" target="_blank" class="text-[#003366] font-semibold text-md hover:underline">
                üîó Acesse o Documento Detalhado do Projeto Aqui
            </a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="processo" class="my-12">
            <h2 class="text-3xl font-bold text-center mb-2">O Processo Estat√≠stico Completo</h2>
            <p class="text-center text-lg text-[#007BFF] max-w-3xl mx-auto mb-8">
                Esta jornada de 600 minutos de aprendizagem pr√°tica guia os alunos atrav√©s das 6 etapas fundamentais de uma pesquisa estat√≠stica, transformando curiosidade em conhecimento concreto.
            </p>
            <div class="flex flex-col lg:flex-row justify-center items-center flex-wrap">
                <div class="flow-item text-center p-4">
                    <div class="text-4xl font-bold text-[#007BFF]">1</div>
                    <div class="font-semibold mt-2">Definir o Problema</div>
                    <div class="flow-arrow"></div>
                </div>
                <div class="flow-item text-center p-4">
                    <div class="text-4xl font-bold text-[#007BFF]">2</div>
                    <div class="font-semibold mt-2">Planejar a Pesquisa</div>
                    <div class="flow-arrow"></div>
                </div>
                <div class="flow-item text-center p-4">
                    <div class="text-4xl font-bold text-[#007BFF]">3</div>
                    <div class="font-semibold mt-2">Coletar Dados</div>
                    <div class="flow-arrow"></div>
                </div>
                <div class="flow-item text-center p-4">
                    <div class="text-4xl font-bold text-[#007BFF]">4</div>
                    <div class="font-semibold mt-2">Organizar e Apresentar</div>
                    <div class="flow-arrow"></div>
                </div>
                <div class="flow-item text-center p-4">
                    <div class="text-4xl font-bold text-[#007BFF]">5</div>
                    <div class="font-semibold mt-2">Analisar e Interpretar</div>
                    <div class="flow-arrow"></div>
                </div>
                <div class="flow-item text-center p-4">
                    <div class="text-4xl font-bold text-[#007BFF]">6</div>
                    <div class="font-semibold mt-2">Divulgar Resultados</div>
                    <div class="flow-arrow"></div>
                </div>
            </div>
        </section>

        <section id="aulas" class="my-16">
            <h2 class="text-3xl font-bold text-center mb-8">As 6 Aulas da Jornada</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <div class="card rounded-lg p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-[#003366]">Aula 1: Planejamento</h3>
                        <p class="mt-2 text-[#007BFF]">Defini√ß√£o do problema, popula√ß√£o, amostra e constru√ß√£o do question√°rio no Google Forms com valida√ß√£o de dados.</p>
                    </div>
                    <button onclick="explainConcept('Planejamento da Pesquisa', 'Defini√ß√£o do problema, popula√ß√£o, amostra e constru√ß√£o do question√°rio no Google Forms com valida√ß√£o de dados.')" class="mt-4 px-4 py-2 bg-[#FFD700] text-[#003366] font-semibold rounded-md hover:bg-[#FF6347] transition-colors shadow-md">‚ú® Explicar</button>
                </div>

                <div class="card rounded-lg p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-[#003366]">Aula 2: Organiza√ß√£o</h3>
                        <p class="mt-2 text-[#007BFF]">Exporta√ß√£o dos dados, limpeza, tratamento e cria√ß√£o de tabelas de frequ√™ncia detalhadas no Excel.</p>
                    </div>
                    <button onclick="explainConcept('Organiza√ß√£o de Dados', 'Exporta√ß√£o dos dados, limpeza, tratamento e cria√ß√£o de tabelas de frequ√™ncia detalhadas no Excel.')" class="mt-4 px-4 py-2 bg-[#FFD700] text-[#003366] font-semibold rounded-md hover:bg-[#FF6347] transition-colors shadow-md">‚ú® Explicar</button>
                </div>

                <div class="card rounded-lg p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-[#003366]">Aula 3: Visualiza√ß√£o</h3>
                        <p class="mt-2 text-[#007BFF]">Cria√ß√£o de gr√°ficos (Pizza, Barras, Histograma) para visualizar os padr√µes nos dados coletados.</p>
                    </div>
                    <button onclick="explainConcept('Visualiza√ß√£o de Dados', 'Cria√ß√£o de gr√°ficos (Pizza, Barras, Histograma) para visualizar os padr√µes nos dados coletados.')" class="mt-4 px-4 py-2 bg-[#FFD700] text-[#003366] font-semibold rounded-md hover:bg-[#FF6347] transition-colors shadow-md">‚ú® Explicar</button>
                </div>

                <div class="card rounded-lg p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-[#003366]">Aula 4: Tend√™ncia Central</h3>
                        <p class="mt-2 text-[#007BFF]">C√°lculo e interpreta√ß√£o das medidas que representam o "centro" dos dados: M√©dia, Mediana e Moda.</p>
                    </div>
                    <button onclick="explainConcept('Medidas de Tend√™ncia Central', 'C√°lculo e interpreta√ß√£o das medidas que representam o centro dos dados: M√©dia, Mediana e Moda.')" class="mt-4 px-4 py-2 bg-[#FFD700] text-[#003366] font-semibold rounded-md hover:bg-[#FF6347] transition-colors shadow-md">‚ú® Explicar</button>
                </div>

                <div class="card rounded-lg p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-[#003366]">Aula 5: Dispers√£o</h3>
                        <p class="mt-2 text-[#007BFF]">An√°lise da variabilidade dos dados com Amplitude, Vari√¢ncia e Desvio Padr√£o para entender o "espalhamento".</p>
                    </div>
                    <button onclick="explainConcept('Medidas de Dispers√£o', 'An√°lise da variabilidade dos dados com Amplitude, Vari√¢ncia e Desvio Padr√£o para entender o espalhamento.')" class="mt-4 px-4 py-2 bg-[#FFD700] text-[#003366] font-semibold rounded-md hover:bg-[#FF6347] transition-colors shadow-md">‚ú® Explicar</button>
                </div>

                <div class="card rounded-lg p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-[#003366]">Aula 6: O Relat√≥rio Final</h3>
                        <p class="mt-2 text-[#007BFF]">Consolida√ß√£o de todas as an√°lises em um relat√≥rio t√©cnico individual no Microsoft Word, comunicando as conclus√µes.</p>
                    </div>
                    <button onclick="explainConcept('Relat√≥rio Estat√≠stico Final', 'Consolida√ß√£o de todas as an√°lises em um relat√≥rio t√©cnico individual no Microsoft Word, comunicando as conclus√µes.')" class="mt-4 px-4 py-2 bg-[#FFD700] text-[#003366] font-semibold rounded-md hover:bg-[#FF6347] transition-colors shadow-md">‚ú® Explicar</button>
                </div>
            </div>
        </section>

        <section id="visualizacoes" class="my-16">
            <h2 class="text-3xl font-bold text-center mb-8">Visualiza√ß√µes em Foco</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="card rounded-lg p-6">
                    <h3 class="text-xl font-bold text-center mb-4">Foco de Cada Aula</h3>
                    <p class="text-center text-[#007BFF] mb-4">O projeto distribui o aprendizado de forma equilibrada, dedicando uma aula para cada etapa crucial da an√°lise estat√≠stica.</p>
                    <div class="chart-container relative h-80 md:h-96 w-full max-w-md mx-auto">
                        <canvas id="focoAulaChart"></canvas>
                    </div>
                </div>
                <div class="card rounded-lg p-6">
                    <h3 class="text-xl font-bold text-center mb-4">Evolu√ß√£o das Habilidades</h3>
                     <p class="text-center text-[#007BFF] mb-4">Ao longo das aulas, o foco muda da coleta e organiza√ß√£o para a an√°lise e comunica√ß√£o dos resultados.</p>
                    <div class="chart-container relative h-80 md:h-96 w-full max-w-lg mx-auto">
                        <canvas id="habilidadesChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="ferramentas" class="my-16">
            <h2 class="text-3xl font-bold text-center mb-8">Ferramentas do Analista</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="card rounded-lg p-6">
                    <div class="text-5xl text-[#FFD700]">üìã</div>
                    <h3 class="text-xl font-bold mt-4">Google Forms</h3>
                    <p class="mt-2 text-[#007BFF]">Para coleta de dados prim√°rios de forma estruturada, r√°pida e com valida√ß√£o.</p>
                </div>
                <div class="card rounded-lg p-6">
                    <div class="text-5xl text-[#FFD700]">üìä</div>
                    <h3 class="text-xl font-bold mt-4">Microsoft Excel</h3>
                    <p class="mt-2 text-[#007BFF]">Para organizar, limpar, calcular medidas e criar todas as visualiza√ß√µes gr√°ficas.</p>
                </div>
                <div class="card rounded-lg p-6">
                    <div class="text-5xl text-[#FFD700]">‚úçÔ∏è</div>
                    <h3 class="text-xl font-bold mt-4">Microsoft Word</h3>
                    <p class="mt-2 text-[#007BFF]">Para a divulga√ß√£o final dos resultados, redigindo um relat√≥rio t√©cnico completo e profissional.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-8 bg-[#003366] text-white">
        <p>Desenvolvendo a literacia de dados para o futuro.</p>
    </footer>

    <!-- Modal para explica√ß√µes do LLM -->
    <div id="llmModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-lg w-full m-4">
            <h3 id="modalTitle" class="text-2xl font-bold mb-4 text-[#003366]"></h3>
            <p id="modalContent" class="text-[#007BFF] text-justify"></p>
            <div id="modalLoading" class="hidden text-center mt-4">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#007BFF] mx-auto"></div>
                <p class="text-[#007BFF] mt-2">Gerando explica√ß√£o...</p>
            </div>
            <button onclick="document.getElementById('llmModal').classList.add('hidden')" class="mt-6 px-4 py-2 bg-[#007BFF] text-white rounded-md hover:bg-[#003366] transition-colors">Fechar</button>
        </div>
    </div>

    <script>
        // Configura√ß√£o de tooltip para Chart.js
        const tooltipConfig = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                                return label.join(' ');
                            } else {
                                return label;
                            }
                        }
                    }
                }
            }
        };

        // Fun√ß√£o para quebrar r√≥tulos longos em v√°rias linhas
        const wrapLabel = (label) => {
            if (label.length > 16) {
                const words = label.split(' ');
                const lines = [];
                words.forEach(word => {
                    if ((currentLine + word).length > 16) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines;
            }
            return label;
        };
        
        // Gr√°fico de Foco por Aula (Donut Chart)
        const focoAulaCtx = document.getElementById('focoAulaChart').getContext('2d');
        const focoAulaChart = new Chart(focoAulaCtx, {
            type: 'doughnut',
            data: {
                labels: ['Planejamento', 'Organiza√ß√£o', 'Visualiza√ß√£o', ['Tend√™ncia', 'Central'], 'Dispers√£o', 'Relat√≥rio'],
                datasets: [{
                    label: 'Foco da Aula',
                    data: [1, 1, 1, 1, 1, 1],
                    backgroundColor: [
                        '#007BFF', // Primary Blue
                        '#66CCFF', // Light Blue
                        '#FFD700', // Gold/Yellow
                        '#003366', // Dark Blue
                        '#FF6347', // Tomato/Orange
                        '#A9D9F7'  // A lighter blue
                    ],
                    borderColor: '#FFFFFF',
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                ...tooltipConfig,
                plugins: {
                    ...tooltipConfig.plugins,
                    legend: {
                        position: 'bottom',
                    }
                }
            }
        });

        // Gr√°fico de Evolu√ß√£o das Habilidades (Stacked Bar Chart)
        const habilidadesCtx = document.getElementById('habilidadesChart').getContext('2d');
        const habilidadesChart = new Chart(habilidadesCtx, {
            type: 'bar',
            data: {
                labels: ['Aulas 1-2', 'Aulas 3-4', 'Aulas 5-6'],
                datasets: [
                {
                    label: 'Coleta e Organiza√ß√£o',
                    data: [100, 50, 10],
                    backgroundColor: '#66CCFF', // Light Blue
                },
                {
                    label: 'An√°lise e Visualiza√ß√£o',
                    data: [10, 80, 60],
                    backgroundColor: '#007BFF', // Primary Blue
                },
                {
                    label: 'Comunica√ß√£o e Relato',
                    data: [0, 20, 100],
                    backgroundColor: '#003366', // Dark Blue
                }
            ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        stacked: true,
                    },
                    y: {
                        stacked: true,
                        ticks: {
                            callback: function(value) { return value + "%" }
                        }
                    }
                },
                ...tooltipConfig,
                plugins: {
                    ...tooltipConfig.plugins,
                    legend: {
                        position: 'bottom',
                    }
                }
            }
        });

        // Fun√ß√£o para chamar a API Gemini e exibir a explica√ß√£o
        async function explainConcept(conceptTitle, conceptDescription) {
            const modal = document.getElementById('llmModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            const modalLoading = document.getElementById('modalLoading');

            modalTitle.textContent = `Explica√ß√£o: ${conceptTitle}`;
            modalContent.textContent = ''; // Limpa o conte√∫do anterior
            modalLoading.classList.remove('hidden'); // Mostra o spinner de carregamento
            modal.classList.remove('hidden'); // Mostra o modal

            const prompt = `Explique o conceito de '${conceptTitle}' no contexto de uma pesquisa estat√≠stica escolar de forma clara e concisa, como se estivesse explicando para um aluno do ensino m√©dio. Inclua a ess√™ncia de '${conceptDescription}' na sua explica√ß√£o.`;

            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    modalContent.textContent = text;
                } else {
                    modalContent.textContent = "N√£o foi poss√≠vel gerar a explica√ß√£o. Tente novamente mais tarde.";
                }
            } catch (error) {
                console.error("Erro ao chamar a API Gemini:", error);
                modalContent.textContent = "Ocorreu um erro ao carregar a explica√ß√£o. Verifique sua conex√£o ou tente novamente.";
            } finally {
                modalLoading.classList.add('hidden'); // Esconde o spinner de carregamento
            }
        }
    </script>

</body>
</html>